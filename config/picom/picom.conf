#################################
#             Blur              #
#################################
blur-method = "dual_kawase";
blur-kern = "3x3box";
blur-strength = 5;
blur-background = true;
blur-background-frame = true;
blur-background-fixed = true;
blur-background-exclude = [
    "window_type = 'dock'",
    "window_type = 'desktop'",
    "class_g = 'slop'",
    "_GTK_FRAME_EXTENTS@:c"
];

#################################
#           Opacity             #
#################################
inactive-opacity = 0.97;
active-opacity = 0.96;
frame-opacity = 1.0;

opacity-rule = [
    "100:class_g = 'firefox'",           # Keep Firefox fully opaque
    "100:class_g = 'Firefox'",           # Firefox sometimes uses capital F
    "95:class_g = 'Thunar' && focused",
    "85:class_g = 'Thunar' && !focused"
];

#################################
#          Animations           #
#################################
animations = (
    {
        triggers = ["open", "show"];
        preset = "appear";
        duration = 0.3;           # Increased from 0.2
        scale = 0.95;
        easing = "ease-out-cubic"; # Added easing
    },
    {
        triggers = ["close", "hide"];
        preset = "disappear";
        duration = 0.4;          # Slightly increased
        scale = 0.95;
        easing = "ease-in-cubic"; # Added easing
    },
    {
        triggers = ["geometry"];
        preset = "geometry-change";
        duration = 0.35;          # Increased from 0.3
        easing = "ease-out-quad"; # Added easing
    },
)

#################################
#          Fading               #
#################################
fading = true;
fade-in-step = 0.028;            # Smaller steps = smoother (0.05 → 0.028)
fade-out-step = 0.028;            # Smaller steps = smoother (0.05 → 0.03)
fade-delta = 10;                 # Time between steps (ms)
fade-exclude = [
    "class_g = 'slop'"
];

#################################
#       General Settings        #
#################################
backend = "glx";
vsync = true;
detect-rounded-corners = true;
detect-client-opacity = true;
use-damage = true;
log-level = "warn";
glx-no-stencil = true;
glx-no-rebind-pixmap = true;
